<nb-layout class="window-mode with-scroll">
	<nb-layout-header
		*ngIf="authService.user$ | async as user"
		fixed
		class="fixed"
		>
		<bmc-topbar
			[sidebarState]="sidebarState"
		></bmc-topbar>
	</nb-layout-header>

	<nb-sidebar
		*ngIf="(authService.user$ | async) && (projectsService.projects$ | async)?.length && projectsService.projects$ | async as projects"
		left
		responsive
		class="menu-sidebar"
	>

		<bmc-sidebar-project
			*ngFor="let project of projects"
			[project]="project"
			[opened]="openedSidebar"
			>
		</bmc-sidebar-project>

	</nb-sidebar>

	<nb-layout-column>
		<router-outlet></router-outlet>
	</nb-layout-column>

	<nb-layout-footer>
		<bmc-footer></bmc-footer>
	</nb-layout-footer>
</nb-layout>
